# Menggunakan Exploit dari Exploit-DB di Metasploit

## A. Apa Itu Exploit-DB?

[Exploit-DB](https://www.exploit-db.com/) adalah repositori publik berisi ribuan exploit dan proof-of-concept (PoC) untuk berbagai jenis kerentanan perangkat lunak. Eksploit ini biasanya ditulis dalam bahasa `Python`, `Perl`, `C`, atau `Ruby`, dan tidak semua langsung bisa dijalankan di `Metasploit`.

Namun, kamu tetap bisa menggunakan atau mengadaptasi exploit dari Exploit-DB ke dalam Metasploit Framework.

## B. Langkah-langkah Menggunakan Exploit dari Exploit-DB

### 1. Cari Exploit di Exploit-DB

Buka:

```
https://www.exploit-db.com
```

Contoh: Cari exploit untuk `ProFTPd`, lalu salin Exploit-ID, misalnya `ProFTPD 1.3.3c`.

Kamu juga bisa menggunakan command line:

```
searchsploit proftpd
```

Hasil output-nya sepertin ini:

```
┌──(fixploit03㉿fixploit03)-[~/Desktop]
└─$ searchsploit proftpd    
---------------------------------------------- ---------------------------------
 Exploit Title                                |  Path
---------------------------------------------- ---------------------------------
FreeBSD - 'ftpd / ProFTPd' Remote Command Exe | freebsd/remote/18181.txt
ProFTPd - 'ftpdctl' 'pr_ctrls_connect' Local  | linux/local/394.c
ProFTPd - 'mod_mysql' Authentication Bypass   | multiple/remote/8037.txt
ProFTPd - 'mod_sftp' Integer Overflow Denial  | linux/dos/16129.txt
ProFTPd 1.2 - 'SIZE' Remote Denial of Service | linux/dos/20536.java
ProFTPd 1.2 < 1.3.0 (Linux) - 'sreplace' Remo | linux/remote/16852.rb
ProFTPd 1.2 pre1/pre2/pre3/pre4/pre5 - Remote | linux/remote/19475.c
ProFTPd 1.2 pre1/pre2/pre3/pre4/pre5 - Remote | linux/remote/19476.c
ProFTPd 1.2 pre6 - 'snprintf' Remote Root     | linux/remote/19503.txt
ProFTPd 1.2.0 pre10 - Remote Denial of Servic | linux/dos/244.java
ProFTPd 1.2.0 rc2 - Memory Leakage            | linux/dos/241.c
ProFTPd 1.2.10 - Remote Users Enumeration     | linux/remote/581.c
ProFTPd 1.2.7 < 1.2.9rc2 - Remote Code Execut | linux/remote/110.c
ProFTPd 1.2.7/1.2.8 - '.ASCII' File Transfer  | linux/dos/23170.c
ProFTPd 1.2.9 RC1 - 'mod_sql' SQL Injection   | linux/remote/43.pl
ProFTPd 1.2.9 rc2 - '.ASCII' File Remote Code | linux/remote/107.c
ProFTPd 1.2.9 rc2 - '.ASCII' File Remote Code | linux/remote/3021.txt
ProFTPd 1.2.x - 'STAT' Denial of Service      | linux/dos/22079.sh
ProFTPd 1.3 - 'mod_sql' 'Username' SQL Inject | multiple/remote/32798.pl
ProFTPd 1.3.0 (OpenSUSE) - 'mod_ctrls' Local  | unix/local/10044.pl
ProFTPd 1.3.0 - 'sreplace' Remote Stack Overf | linux/remote/2856.pm
ProFTPd 1.3.0/1.3.0a - 'mod_ctrls' 'support'  | linux/local/3330.pl
ProFTPd 1.3.0/1.3.0a - 'mod_ctrls' 'support'  | linux/local/3333.pl
ProFTPd 1.3.0/1.3.0a - 'mod_ctrls' exec-shiel | linux/local/3730.txt
ProFTPd 1.3.0a - 'mod_ctrls' 'support' Local  | linux/dos/2928.py
ProFTPd 1.3.2 rc3 < 1.3.3b (FreeBSD) - Telnet | linux/remote/16878.rb
ProFTPd 1.3.2 rc3 < 1.3.3b (Linux) - Telnet I | linux/remote/16851.rb
ProFTPd 1.3.3c - Compromised Source Backdoor  | linux/remote/15662.txt
ProFTPd 1.3.5 - 'mod_copy' Command Execution  | linux/remote/37262.rb
ProFTPd 1.3.5 - 'mod_copy' Remote Command Exe | linux/remote/36803.py
ProFTPd 1.3.5 - 'mod_copy' Remote Command Exe | linux/remote/49908.py
ProFTPd 1.3.5 - File Copy                     | linux/remote/36742.txt
ProFTPD 1.3.7a - Remote Denial of Service     | multiple/dos/49697.py
ProFTPd 1.x - 'mod_tls' Remote Buffer Overflo | linux/remote/4312.c
ProFTPd IAC 1.3.x - Remote Command Execution  | linux/remote/15449.pl
ProFTPd-1.3.3c - Backdoor Command Execution ( | linux/remote/16921.rb
WU-FTPD 2.4.2 / SCO Open Server 5.0.5 / ProFT | linux/remote/19086.c
WU-FTPD 2.4.2 / SCO Open Server 5.0.5 / ProFT | linux/remote/19087.c
WU-FTPD 2.4/2.5/2.6 / Trolltech ftpd 1.2 / Pr | linux/remote/20690.sh
---------------------------------------------- ---------------------------------
Shellcodes: No Results
```

### 2. Salin Exploit ke Sistem:

```
searchsploit -m 16921.rb
```

Hasilnya output-nya sepertin ini:

```
┌──(fixploit03㉿fixploit03)-[~/Desktop]
└─$ searchsploit -m 16921.rb
  Exploit: ProFTPd-1.3.3c - Backdoor Command Execution (Metasploit)
      URL: https://www.exploit-db.com/exploits/16921
     Path: /usr/share/exploitdb/exploits/linux/remote/16921.rb
    Codes: OSVDB-69562
 Verified: True
File Type: Ruby script, ASCII text
Copied to: /home/fixploit03/Desktop/16921.rb
```

Hasilnya akan tersalin ke direktori tempat kamu berada.

### 3. Pahami dan Analisis Exploit

Exploit dari Exploit-DB biasanya adalah standalone script dalam bahasa seperti `Python` atau `C`.

- Jika script berbasis Metasploit (Ruby), kamu bisa langsung copy ke path modul Metasploit.
- Jika bukan, kamu harus menyesuaikannya atau menjalankannya manual di luar Metasploit.

### 4. Menjalankan Exploit Manual (di luar Metasploit)

Jika script dalam bahasa `Python`:

```
python3 exploit.py
```

Atau jika script dalam bahasa `C`:

```
gcc exploit.c -o exploit
./exploit
```

Pastikan kamu mengatur `payload`,`IP`, dan `port` sesuai dengan jaringan.

### 5. Adaptasi ke Metasploit Framework (Opsional)

Jika kamu ingin menjadikan exploit dari `Exploit-DB` sebagai modul Metasploit:

#### 1. Buat Direktori `custom` di Direktori `exploit` Metasploit:

```
mkdir -p ~/.msf4/modules/exploits/custom/
```

#### 2. Salin File Exploit Ruby ke Direktori Tersebut:

```
cp exploit.rb ~/.msf4/modules/exploits/custom/
```

> Hanya contoh.

#### 3. Jalankan Metasploit

```
msfconsole
```

#### 4. Reload Modul Metasploit:

```
reload_all
```

#### 5. Gunakan Exploit:

```
use exploit/custom/exploit.rb
```

## Tips Tambahan

| Tips	| Penjelasan |
|:--:|:--:|
| Cek PoC	| Tidak semua exploit bekerja langsung, pahami dulu cara kerjanya.|
| Baca Keterangan | Exploit-DB menyediakan info: `CVE`, `platform`, dan kadang `video demo`. |
| Modifikasi |	Kadang butuh edit `IP`, `port`, `shellcode` secara manual. |
| Uji di Lab	|  Selalu tes exploit dalam lingkungan lab atau VM sebelum digunakan. |
